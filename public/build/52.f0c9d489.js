(self.webpackChunkkoillection=self.webpackChunkkoillection||[]).push([[52],{60553:(e,t)=>{t.updateCenterAndZoom=function(e,t,o){var i=e.getZoom(),n=e.getCenter(),r=t.zoom,a=e.dataToPoint(n);if(null!=t.dx&&null!=t.dy){a[0]-=t.dx,a[1]-=t.dy;n=e.pointToData(a);e.setCenter(n)}if(null!=r){if(o){var s=o.min||0,l=o.max||1/0;r=Math.max(Math.min(i*r,l),s)/i}e.scale[0]*=r,e.scale[1]*=r;var h=e.position,d=(t.originX-h[0])*(r-1),u=(t.originY-h[1])*(r-1);h[0]-=d,h[1]-=u,e.updateTransform();n=e.pointToData(a);e.setCenter(n),e.setZoom(r*i)}return{center:e.getCenter(),zoom:e.getZoom()}}},66351:(e,t,o)=>{var i=o(33051),n=o(41525).createSymbol,r=o(51177),a=o(85669).parsePercent,s=o(33140).getDefaultLabel;function l(e,t,o){r.Group.call(this),this.updateData(e,t,o)}var h=l.prototype,d=l.getSymbolSize=function(e,t){var o=e.getItemVisual(t,"symbolSize");return o instanceof Array?o.slice():[+o,+o]};function u(e){return[e[0]/2,e[1]/2]}function c(e,t){this.parent.drift(e,t)}h._createSymbol=function(e,t,o,i,r){this.removeAll();var a=t.getItemVisual(o,"color"),s=n(e,-1,-1,2,2,a,r);s.attr({z2:100,culling:!0,scale:u(i)}),s.drift=c,this._symbolType=e,this.add(s)},h.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(e,t){var o=this.childAt(0);o.zlevel=e,o.z=t},h.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},h.updateData=function(e,t,o){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",n=e.hostModel,a=d(e,t),s=i!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(i,e,t,a,l)}else{(h=this.childAt(0)).silent=!1,r.updateProps(h,{scale:u(a)},n,t)}if(this._updateCommon(e,t,a,o),s){var h=this.childAt(0),c=o&&o.fadeIn,p={scale:h.scale.slice()};c&&(p.style={opacity:h.style.opacity}),h.scale=[0,0],c&&(h.style.opacity=0),r.initProps(h,p,n,t)}this._seriesModel=n};var p=["itemStyle"],f=["emphasis","itemStyle"],m=["label"],g=["emphasis","label"];function y(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var o=this.__symbolOriginalScale,i=o[1]/o[0],n={scale:[Math.max(1.1*o[0],o[0]+3),Math.max(1.1*o[1],o[1]+3*i)]};this.animateTo(n,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h._updateCommon=function(e,t,o,n){var l=this.childAt(0),h=e.hostModel,d=e.getItemVisual(t,"color");"image"!==l.type?l.useStyle({strokeNoScale:!0}):l.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var c=n&&n.itemStyle,v=n&&n.hoverItemStyle,x=n&&n.symbolOffset,_=n&&n.labelModel,N=n&&n.hoverLabelModel,b=n&&n.hoverAnimation,w=n&&n.cursorStyle;if(!n||e.hasItemOption){var T=n&&n.itemModel?n.itemModel:e.getItemModel(t);c=T.getModel(p).getItemStyle(["color"]),v=T.getModel(f).getItemStyle(),x=T.getShallow("symbolOffset"),_=T.getModel(m),N=T.getModel(g),b=T.getShallow("hoverAnimation"),w=T.getShallow("cursor")}else v=i.extend({},v);var I=l.style,S=e.getItemVisual(t,"symbolRotate");l.attr("rotation",(S||0)*Math.PI/180||0),x&&l.attr("position",[a(x[0],o[0]),a(x[1],o[1])]),w&&l.attr("cursor",w),l.setColor(d,n&&n.symbolInnerColor),l.setStyle(c);var M=e.getItemVisual(t,"opacity");null!=M&&(I.opacity=M);var A=e.getItemVisual(t,"liftZ"),L=l.__z2Origin;null!=A?null==L&&(l.__z2Origin=l.z2,l.z2+=A):null!=L&&(l.z2=L,l.__z2Origin=null);var C=n&&n.useNameLabel;r.setLabelStyle(I,v,_,N,{labelFetcher:h,labelDataIndex:t,defaultText:function(t,o){return C?e.getName(t):s(e,t)},isRectText:!0,autoColor:d}),l.__symbolOriginalScale=u(o),l.hoverStyle=v,l.highDownOnUpdate=b&&h.isAnimationEnabled()?y:null,r.setHoverStyle(l)},h.fadeOut=function(e,t){var o=this.childAt(0);this.silent=o.silent=!0,(!t||!t.keepLabel)&&(o.style.text=null),r.updateProps(o,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},i.inherits(l,r.Group);var v=l;e.exports=v},33140:(e,t,o)=>{var i=o(68540).retrieveRawValue;t.getDefaultLabel=function(e,t){var o=e.mapDimension("defaultedLabel",!0),n=o.length;if(1===n)return i(e,t,o[0]);if(n){for(var r=[],a=0;a<o.length;a++){var s=i(e,t,o[a]);r.push(s)}return r.join(" ")}}},81052:(e,t,o)=>{var i=o(70492);o(97908),o(37732),o(1969);var n=o(34586),r=o(92961);i.registerVisual(n("tree","circle")),i.registerLayout(r)},97908:(e,t,o)=>{var i=o(93321),n=o(9327),r=o(78988).encodeHTML,a=o(4272),s=i.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},o=e.leaves||{},i=new a(o,this,this.ecModel),r=n.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var o=r.getNodeByDataIndex(t);return o.children.length&&o.isExpand||(e.parentModel=i),e}))}));var s=0;r.eachNode("preorder",(function(e){e.depth>s&&(s=e.depth)}));var l=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return r.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=l})),r.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,o=t.root.children[0],i=t.getNodeByDataIndex(e),n=i.getValue(),a=i.name;i&&i!==o;)a=i.parentNode.name+"."+a,i=i.parentNode;return r(a+(isNaN(n)||null==n?"":" : "+n))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});e.exports=s},37732:(e,t,o)=>{var i=o(33051),n=o(51177),r=o(66351),a=o(69387).radialCoordinate,s=o(70492),l=o(3726),h=o(23845),d=o(31194),u=o(9176),c=o(61485).onIrrelevantElement,p=(o(38175).__DEV__,o(85669).parsePercent),f=n.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var o=t.childPoints,i=o.length,n=t.parentPoint,r=o[0],a=o[i-1];if(1===i)return e.moveTo(n[0],n[1]),void e.lineTo(r[0],r[1]);var s=t.orient,l="TB"===s||"BT"===s?0:1,h=1-l,d=p(t.forkPosition,1),u=[];u[l]=n[l],u[h]=n[h]+(a[h]-n[h])*d,e.moveTo(n[0],n[1]),e.lineTo(u[0],u[1]),e.moveTo(r[0],r[1]),u[l]=r[l],e.lineTo(u[0],u[1]),u[l]=a[l],e.lineTo(u[0],u[1]),e.lineTo(a[0],a[1]);for(var c=1;c<i-1;c++){var f=o[c];e.moveTo(f[0],f[1]),u[l]=f[l],e.lineTo(u[0],u[1])}}}),m=s.extendChartView({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new n.Group,this._controller=new u(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,o,i){var n=e.getData(),r=e.layoutInfo,a=this._mainGroup,s=e.get("layout");"radial"===s?a.attr("position",[r.x+r.width/2,r.y+r.height/2]):a.attr("position",[r.x,r.y]),this._updateViewCoordSys(e,r,s),this._updateController(e,t,o);var l=this._data,h={expandAndCollapse:e.get("expandAndCollapse"),layout:s,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};n.diff(l).add((function(t){g(n,t)&&v(n,t,null,a,e,h)})).update((function(t,o){var i=l.getItemGraphicEl(o);g(n,t)?v(n,t,i,a,e,h):i&&x(l,o,i,a,e,h)})).remove((function(t){var o=l.getItemGraphicEl(t);o&&x(l,t,o,a,e,h)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===h.expandAndCollapse&&n.eachItemGraphicEl((function(t,i){t.off("click").on("click",(function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})}))})),this._data=n},_updateViewCoordSys:function(e){var t=e.getData(),o=[];t.each((function(e){var i=t.getItemLayout(e);!i||isNaN(i.x)||isNaN(i.y)||o.push([+i.x,+i.y])}));var i=[],n=[];l.fromPoints(o,i,n);var r=this._min,a=this._max;n[0]-i[0]==0&&(i[0]=r?r[0]:i[0]-1,n[0]=a?a[0]:n[0]+1),n[1]-i[1]==0&&(i[1]=r?r[1]:i[1]-1,n[1]=a?a[1]:n[1]+1);var s=e.coordinateSystem=new h;s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(i[0],i[1],n[0]-i[0],n[1]-i[1]),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this.group.attr({position:s.position,scale:s.scale}),this._viewCoordSys=s,this._min=i,this._max=n},_updateController:function(e,t,o){var i=this._controller,n=this._controllerHost,r=this.group;i.setPointerChecker((function(t,i,n){var a=r.getBoundingRect();return a.applyTransform(r.transform),a.contain(i,n)&&!c(t,o,e)})),i.enable(e.get("roam")),n.zoomLimit=e.get("scaleLimit"),n.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){d.updateViewOnPan(n,t.dx,t.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})}),this).on("zoom",(function(t){d.updateViewOnZoom(n,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)}),this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),o=this._getNodeGlobalScale(e),i=[o,o];t.eachItemGraphicEl((function(e,t){e.attr("scale",i)}))},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=this._nodeScaleRatio,i=t.scale,n=i&&i[0]||1;return((t.getZoom()-1)*o+1)/n},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function g(e,t){var o=e.getItemLayout(t);return o&&!isNaN(o.x)&&!isNaN(o.y)&&"none"!==e.getItemVisual(t,"symbol")}function y(e,t,o){return o.itemModel=t,o.itemStyle=t.getModel("itemStyle").getItemStyle(),o.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),o.lineStyle=t.getModel("lineStyle").getLineStyle(),o.labelModel=t.getModel("label"),o.hoverLabelModel=t.getModel("emphasis.label"),!1===e.isExpand&&0!==e.children.length?o.symbolInnerColor=o.itemStyle.fill:o.symbolInnerColor="#fff",o}function v(e,t,o,a,s,l){var h=!o,d=e.tree.getNodeByDataIndex(t),u=d.getModel(),c=(l=y(d,u,l),e.tree.root),p=d.parentNode===c?d:d.parentNode||d,m=e.getItemGraphicEl(p.dataIndex),g=p.getLayout(),v=m?{x:m.position[0],y:m.position[1],rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:g,x=d.getLayout();h?(o=new r(e,t,l)).attr("position",[v.x,v.y]):o.updateData(e,t,l),o.__radialOldRawX=o.__radialRawX,o.__radialOldRawY=o.__radialRawY,o.__radialRawX=x.rawX,o.__radialRawY=x.rawY,a.add(o),e.setItemGraphicEl(t,o),n.updateProps(o,{position:[x.x,x.y]},s);var N=o.getSymbolPath();if("radial"===l.layout){var b,w,T=c.children[0],I=T.getLayout(),S=T.children.length;if(x.x===I.x&&!0===d.isExpand){var M={};M.x=(T.children[0].getLayout().x+T.children[S-1].getLayout().x)/2,M.y=(T.children[0].getLayout().y+T.children[S-1].getLayout().y)/2,(b=Math.atan2(M.y-I.y,M.x-I.x))<0&&(b=2*Math.PI+b),(w=M.x<I.x)&&(b-=Math.PI)}else(b=Math.atan2(x.y-I.y,x.x-I.x))<0&&(b=2*Math.PI+b),0===d.children.length||0!==d.children.length&&!1===d.isExpand?(w=x.x<I.x)&&(b-=Math.PI):(w=x.x>I.x)||(b-=Math.PI);var A=w?"left":"right",L=l.labelModel.get("rotate"),C=L*(Math.PI/180);N.setStyle({textPosition:l.labelModel.get("position")||A,textRotation:null==L?-b:C,textOrigin:"center",verticalAlign:"middle"})}!function(e,t,o,r,a,s,l,h,d){var u=d.edgeShape,c=r.__edge;if("curve"===u)t.parentNode&&t.parentNode!==o&&(c||(c=r.__edge=new n.BezierCurve({shape:_(d,a,a),style:i.defaults({opacity:0,strokeNoScale:!0},d.lineStyle)})),n.updateProps(c,{shape:_(d,s,l),style:i.defaults({opacity:1},d.lineStyle)},e));else if("polyline"===u&&"orthogonal"===d.layout&&t!==o&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var p=t.children,m=[],g=0;g<p.length;g++){var y=p[g].getLayout();m.push([y.x,y.y])}c||(c=r.__edge=new f({shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]],orient:d.orient,forkPosition:d.edgeForkPosition},style:i.defaults({opacity:0,strokeNoScale:!0},d.lineStyle)})),n.updateProps(c,{shape:{parentPoint:[l.x,l.y],childPoints:m},style:i.defaults({opacity:1},d.lineStyle)},e)}h.add(c)}(s,d,c,o,v,g,x,a,l)}function x(e,t,o,i,r,a){for(var s,l=e.tree.getNodeByDataIndex(t),h=e.tree.root,d=l.getModel(),u=(a=y(l,d,a),l.parentNode===h?l:l.parentNode||l),c=a.edgeShape;null==(s=u.getLayout());)u=u.parentNode===h?u:u.parentNode||u;n.updateProps(o,{position:[s.x+1,s.y+1]},r,(function(){i.remove(o),e.setItemGraphicEl(t,null)})),o.fadeOut(null,{keepLabel:!0});var p=e.getItemGraphicEl(u.dataIndex).__edge,f=o.__edge||(!1===u.isExpand||1===u.children.length?p:void 0);c=a.edgeShape;f&&("curve"===c?n.updateProps(f,{shape:_(a,s,s),style:{opacity:0}},r,(function(){i.remove(f)})):"polyline"===c&&"orthogonal"===a.layout&&n.updateProps(f,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},r,(function(){i.remove(f)})))}function _(e,t,o){var i,n,r,s,l,h,d,u,c=e.orient;if("radial"===e.layout){l=t.rawX,d=t.rawY,h=o.rawX,u=o.rawY;var p=a(l,d),f=a(l,d+(u-d)*e.curvature),m=a(h,u+(d-u)*e.curvature),g=a(h,u);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y,cpx1:f.x,cpy1:f.y,cpx2:m.x,cpy2:m.y}}return l=t.x,d=t.y,h=o.x,u=o.y,"LR"!==c&&"RL"!==c||(i=l+(h-l)*e.curvature,n=d,r=h+(l-h)*e.curvature,s=u),"TB"!==c&&"BT"!==c||(i=l,n=d+(u-d)*e.curvature,r=h,s=u+(d-u)*e.curvature),{x1:l,y1:d,x2:h,y2:u,cpx1:i,cpy1:n,cpx2:r,cpy2:s}}e.exports=m},69387:(e,t,o)=>{var i=o(76172);function n(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function r(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function a(e,t,o){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:o}function s(e,t,o){var i=o/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=o,t.hierNode.modifier+=o,t.hierNode.prelim+=o,e.hierNode.change+=i}function l(e,t){return e.parentNode===t.parentNode?1:2}t.init=function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,o,i=[e];t=i.pop();)if(o=t.children,t.isExpand&&o.length)for(var n=o.length-1;n>=0;n--){var r=o[n];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:n,thread:null},i.push(r)}},t.firstWalk=function(e,t){var o=e.isExpand?e.children:[],i=e.parentNode.children,l=e.hierNode.i?i[e.hierNode.i-1]:null;if(o.length){!function(e){var t=e.children,o=t.length,i=0,n=0;for(;--o>=0;){var r=t[o];r.hierNode.prelim+=i,r.hierNode.modifier+=i,n+=r.hierNode.change,i+=r.hierNode.shift+n}}(e);var h=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;l?(e.hierNode.prelim=l.hierNode.prelim+t(e,l),e.hierNode.modifier=e.hierNode.prelim-h):e.hierNode.prelim=h}else l&&(e.hierNode.prelim=l.hierNode.prelim+t(e,l));e.parentNode.hierNode.defaultAncestor=function(e,t,o,i){if(t){for(var l=e,h=e,d=h.parentNode.children[0],u=t,c=l.hierNode.modifier,p=h.hierNode.modifier,f=d.hierNode.modifier,m=u.hierNode.modifier;u=n(u),h=r(h),u&&h;){l=n(l),d=r(d),l.hierNode.ancestor=e;var g=u.hierNode.prelim+m-h.hierNode.prelim-p+i(u,h);g>0&&(s(a(u,e,o),e,g),p+=g,c+=g),m+=u.hierNode.modifier,p+=h.hierNode.modifier,c+=l.hierNode.modifier,f+=d.hierNode.modifier}u&&!n(l)&&(l.hierNode.thread=u,l.hierNode.modifier+=m-c),h&&!r(d)&&(d.hierNode.thread=h,d.hierNode.modifier+=p-f,o=e)}return o}(e,l,e.parentNode.hierNode.defaultAncestor||i[0],t)},t.secondWalk=function(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier},t.separation=function(e){return arguments.length?e:l},t.radialCoordinate=function(e,t){var o={};return e-=Math.PI/2,o.x=t*Math.cos(e),o.y=t*Math.sin(e),o},t.getViewRect=function(e,t){return i.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}},55128:(e,t)=>{t.eachAfter=function(e,t,o){for(var i,n=[e],r=[];i=n.pop();)if(r.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)n.push(a[s])}for(;i=r.pop();)t(i,o)},t.eachBefore=function(e,t){for(var o,i=[e];o=i.pop();)if(t(o),o.isExpand){var n=o.children;if(n.length)for(var r=n.length-1;r>=0;r--)i.push(n[r])}}},1969:(e,t,o)=>{var i=o(70492),n=o(60553).updateCenterAndZoom;i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var o=e.dataIndex,i=t.getData().tree.getNodeByDataIndex(o);i.isExpand=!i.isExpand}))})),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var o=t.coordinateSystem,i=n(o,e);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))},92961:(e,t,o)=>{var i=o(55128),n=i.eachAfter,r=i.eachBefore,a=o(69387),s=a.init,l=a.firstWalk,h=a.secondWalk,d=a.separation,u=a.radialCoordinate,c=a.getViewRect;e.exports=function(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var o=c(e,t);e.layoutInfo=o;var i=e.get("layout"),a=0,p=0,f=null;"radial"===i?(a=2*Math.PI,p=Math.min(o.height,o.width)/2,f=d((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(a=o.width,p=o.height,f=d());var m=e.getData().tree.root,g=m.children[0];if(g){s(m),n(g,l,f),m.hierNode.modifier=-g.hierNode.prelim,r(g,h);var y=g,v=g,x=g;r(g,(function(e){var t=e.getLayout().x;t<y.getLayout().x&&(y=e),t>v.getLayout().x&&(v=e),e.depth>x.depth&&(x=e)}));var _=y===v?1:f(y,v)/2,N=_-y.getLayout().x,b=0,w=0,T=0,I=0;if("radial"===i)b=a/(v.getLayout().x+_+N),w=p/(x.depth-1||1),r(g,(function(e){T=(e.getLayout().x+N)*b,I=(e.depth-1)*w;var t=u(T,I);e.setLayout({x:t.x,y:t.y,rawX:T,rawY:I},!0)}));else{var S=e.getOrient();"RL"===S||"LR"===S?(w=p/(v.getLayout().x+_+N),b=a/(x.depth-1||1),r(g,(function(e){I=(e.getLayout().x+N)*w,T="LR"===S?(e.depth-1)*b:a-(e.depth-1)*b,e.setLayout({x:T,y:I},!0)}))):"TB"!==S&&"BT"!==S||(b=a/(v.getLayout().x+_+N),w=p/(x.depth-1||1),r(g,(function(e){T=(e.getLayout().x+N)*b,I="TB"===S?(e.depth-1)*w:p-(e.depth-1)*w,e.setLayout({x:T,y:I},!0)})))}}}(e,t)}))}},9176:(e,t,o)=>{var i=o(33051),n=o(41502),r=o(61158),a=o(20582);function s(e){this.pointerChecker,this._zr=e,this._opt={};var t=i.bind,o=t(l,this),r=t(h,this),a=t(d,this),s=t(u,this),p=t(c,this);n.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,n){this.disable(),this._opt=i.defaults(i.clone(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",s),e.on("pinch",p))},this.disable=function(){e.off("mousedown",o),e.off("mousemove",r),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",p)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(e){if(!(r.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,o)&&(this._x=t,this._y=o,this._dragging=!0)}}function h(e){if(this._dragging&&m("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!a.isTaken(this._zr,"globalPan")){var t=e.offsetX,o=e.offsetY,i=this._x,n=this._y,s=t-i,l=o-n;this._x=t,this._y=o,this._opt.preventDefaultMouseMove&&r.stop(e.event),f(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:i,oldY:n,newX:t,newY:o})}}function d(e){r.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function u(e){var t=m("zoomOnMouseWheel",e,this._opt),o=m("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,n=Math.abs(i),r=e.offsetX,a=e.offsetY;if(0!==i&&(t||o)){if(t){var s=n>3?1.4:n>1?1.2:1.1;p(this,"zoom","zoomOnMouseWheel",e,{scale:i>0?s:1/s,originX:r,originY:a})}if(o){var l=Math.abs(i);p(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:a})}}}function c(e){a.isTaken(this._zr,"globalPan")||p(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function p(e,t,o,i,n){e.pointerChecker&&e.pointerChecker(i,n.originX,n.originY)&&(r.stop(i.event),f(e,t,o,i,n))}function f(e,t,o,n,r){r.isAvailableBehavior=i.bind(m,null,o,n),e.trigger(t,r)}function m(e,t,o){var n=o[e];return!e||n&&(!i.isString(n)||t.event[n+"Key"])}i.mixin(s,n);var g=s;e.exports=g},61485:(e,t)=>{var o={axisPointer:1,tooltip:1,brush:1};t.onIrrelevantElement=function(e,t,i){var n=t.getComponentByElement(e.topTarget),r=n&&n.coordinateSystem;return n&&n!==i&&!o[n.mainType]&&r&&r.model!==i}},20582:(e,t,o)=>{var i=o(70492),n="\0_ec_interaction_mutex";function r(e){return e[n]||(e[n]={})}i.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),t.take=function(e,t,o){r(e)[t]=o},t.release=function(e,t,o){var i=r(e);i[t]===o&&(i[t]=null)},t.isTaken=function(e,t){return!!r(e)[t]}},31194:(e,t)=>{t.updateViewOnPan=function(e,t,o){var i=e.target,n=i.position;n[0]+=t,n[1]+=o,i.dirty()},t.updateViewOnZoom=function(e,t,o,i){var n=e.target,r=e.zoomLimit,a=n.position,s=n.scale,l=e.zoom=e.zoom||1;if(l*=t,r){var h=r.min||0,d=r.max||1/0;l=Math.max(Math.min(d,l),h)}var u=l/e.zoom;e.zoom=l,a[0]-=(o-a[0])*(u-1),a[1]-=(i-a[1])*(u-1),s[0]*=u,s[1]*=u,n.dirty()}},23845:(e,t,o)=>{var i=o(33051),n=o(45280),r=o(32892),a=o(60479),s=o(58023),l=n.applyTransform;function h(){s.call(this)}function d(e){this.name=e,this.zoomLimit,s.call(this),this._roamTransformable=new h,this._rawTransformable=new h,this._center,this._zoom}function u(e,t,o,i){var n=o.seriesModel,r=n?n.coordinateSystem:null;return r===this?r[e](i):null}i.mixin(h,s),d.prototype={constructor:d,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,o,i){return this._rect=new a(e,t,o,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,o,i){this.transformTo(e,t,o,i),this._viewRect=new a(e,t,o,i)},transformTo:function(e,t,o,i){var n=this.getBoundingRect(),r=this._rawTransformable;r.transform=n.calculateTransform(new a(e,t,o,i)),r.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,o=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=n.applyTransform([],i,e),o=n.applyTransform([],o,e),t.origin=i,t.position=[o[0]-i[0],o[1]-i[1]],t.scale=[r,r],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),r.copy(this.transform||(this.transform=[]),t.transform||r.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?i.slice(e):r.create(),rawScale:i.slice(t.scale),rawPosition:i.slice(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,o){var i=t?this._rawTransform:this.transform;return o=o||[],i?l(o,e,i):n.copy(o,e)},pointToData:function(e){var t=this.invTransform;return t?l([],e,t):[e[0],e[1]]},convertToPixel:i.curry(u,"dataToPoint"),convertFromPixel:i.curry(u,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},i.mixin(d,s);var c=d;e.exports=c},9327:(e,t,o)=>{var i=o(33051),n=o(63978),r=o(87587),a=o(55623),s=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};function l(e){this.root,this.data,this._nodes=[],this.hostModel=e}s.prototype={constructor:s,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,o){"function"==typeof e&&(o=t,t=e,e=null),e=e||{},i.isString(e)&&(e={order:e});var n,r=e.order||"preorder",a=this[e.attr||"children"];"preorder"===r&&(n=t.call(o,this));for(var s=0;!n&&s<a.length;s++)a[s].eachNode(e,t,o);"postorder"===r&&t.call(o,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var o=0;o<this.children.length;o++){var i=this.children[o];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,o=this.children,i=o.length;t<i;t++){var n=o[t].getNodeById(e);if(n)return n}},contains:function(e){if(e===this)return!0;for(var t=0,o=this.children,i=o.length;t<i;t++){var n=o[t].contains(e);if(n)return n}},getAncestors:function(e){for(var t=[],o=e?this:this.parentNode;o;)t.push(o),o=o.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},l.prototype={constructor:l,type:"tree",eachNode:function(e,t,o){this.root.eachNode(e,t,o)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,o=0,i=t.length;o<i;o++)t[o].dataIndex=-1;for(o=0,i=e.count();o<i;o++)t[e.getRawIndex(o)].dataIndex=o},clearLayouts:function(){this.data.clearItemLayouts()}},l.createTree=function(e,t,o){var h=new l(t),d=[],u=1;!function e(t,o){var n=t.value;u=Math.max(u,i.isArray(n)?n.length:1),d.push(t);var r=new s(t.name,h);o?function(e,t){var o=t.children;if(e.parentNode===t)return;o.push(e),e.parentNode=t}(r,o):h.root=r,h._nodes.push(r);var a=t.children;if(a)for(var l=0;l<a.length;l++)e(a[l],r)}(e),h.root.updateDepthAndHeight(0);var c=a(d,{coordDimensions:["value"],dimensionsCount:u}),p=new r(c,t);return p.initData(d),o&&o(p),n({mainData:p,struct:h,structAttr:"tree"}),h.update(),h};var h=l;e.exports=h},63978:(e,t,o)=>{var i=o(33051),n=i.each,r="\0__link_datas",a="\0__link_mainData";function s(e,t){if((n=this)[a]===n){var o=i.extend({},this[r]);o[this.dataType]=t,u(t,o,e)}else c(t,this.dataType,this[a],e);var n;return t}function l(e,t){return e.struct&&e.struct.update(this),t}function h(e,t){return n(t[r],(function(o,i){o!==t&&c(o.cloneShallow(),i,t,e)})),t}function d(e){var t=this[a];return null==e||null==t?t:t[r][e]}function u(e,t,o){e[r]={},n(t,(function(t,i){c(t,i,e,o)}))}function c(e,t,o,i){o[r][t]=e,e[a]=o,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=d}var p=function(e){var t=e.mainData,o=e.datas;o||(o={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,u(t,o,e),n(o,(function(o){n(t.TRANSFERABLE_METHODS,(function(t){o.wrapMethod(t,i.curry(s,e))}))})),t.wrapMethod("cloneShallow",i.curry(h,e)),n(t.CHANGABLE_METHODS,(function(o){t.wrapMethod(o,i.curry(l,e))})),i.assert(o[t.dataType]===t)};e.exports=p},34586:(e,t,o)=>{var i=o(33051).isFunction;e.exports=function(e,t,o){return{seriesType:e,performRawSeries:!0,reset:function(e,n,r){var a=e.getData(),s=e.get("symbol"),l=e.get("symbolSize"),h=e.get("symbolKeepAspect"),d=e.get("symbolRotate"),u=i(s),c=i(l),p=i(d),f=u||c||p,m=!u&&s?s:t,g=c?null:l;if(a.setVisual({legendSymbol:o||m,symbol:m,symbolSize:g,symbolKeepAspect:h,symbolRotate:d}),!n.isSeriesFiltered(e))return{dataEach:a.hasItemOption||f?function(t,o){if(f){var i=e.getRawValue(o),n=e.getDataParams(o);u&&t.setItemVisual(o,"symbol",s(i,n)),c&&t.setItemVisual(o,"symbolSize",l(i,n)),p&&t.setItemVisual(o,"symbolRotate",d(i,n))}if(t.hasItemOption){var r=t.getItemModel(o),a=r.getShallow("symbol",!0),h=r.getShallow("symbolSize",!0),m=r.getShallow("symbolRotate",!0),g=r.getShallow("symbolKeepAspect",!0);null!=a&&t.setItemVisual(o,"symbol",a),null!=h&&t.setItemVisual(o,"symbolSize",h),null!=m&&t.setItemVisual(o,"symbolRotate",m),null!=g&&t.setItemVisual(o,"symbolKeepAspect",g)}}:null}}}}}}]);